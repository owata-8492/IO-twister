# IO-twister
佐藤の研究にて，Bashの外部コマンドとして作成したプログラム．使用する上で，入出力対象交換機能を追加したLinuxカーネルを使用していることを前提としている(使用環境の項目を参照)．

作成したコマンドは以下の2つ．
+ chg
+ swp

# コマンド説明

+ chg
  + 単一プロセスの出力対象を切り替える．
  + 構文 `$ chg PID fd foo.txt`
    + (PID)番のプロセスが(fd)番のファイルディスクリプタで使用している入出力対象をfoo.txtに変更する．
  + PIDとfdは符号のない整数のみ受け付ける．

+ swp
  + 2プロセス間の入出力対象を交換する．
  + 構文1 `$ swp PID1 fd1 PID2 fd2`
    + (PID1)番のプロセスが(fd1)番のファイルディスクリプタで使用している入出力対象と(PID2)番のプロセスが(fd2)番のファイルディスクリプタで使用している入出力対象を交換する．
  + 構文2 `$ swp -a PID1 PID2`
    + (PID1)番のプロセスと(PID2)番のプロセスの入出力対象をすべて交換する．
  + 各PIDとfdは符号のない整数のみ受け付ける．

# 使用環境
+ OS：Debian7.10
+ カーネル：[Linux-3.0.8+](https://github.com/nomlab/Linux-3.0.8) (既存カーネルに入出力対象交換機能を追加したもの)
  
# 導入
+ (前提：上記の使用環境)
+ このリポジトリをcloneする．
+ リポジトリのトップに移動する．
+ 実行ファイル chg と swp をパスの通ったディレクトリにコピーする．/usr/binにするなら以下のように．
  + `$ cp chg /usr/bin`
  + `$ cp swp /usr/bin`
